"use strict";(()=>{var Q=Object.defineProperty,X=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var $=(r,t,e)=>t in r?Q(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,f=(r,t)=>{for(var e in t||(t={}))B.call(t,e)&&$(r,e,t[e]);if(w)for(var e of w(t))U.call(t,e)&&$(r,e,t[e]);return r},C=(r,t)=>X(r,Z(t));var y=(r,t)=>{var e={};for(var n in r)B.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&w)for(var n of w(r))t.indexOf(n)<0&&U.call(r,n)&&(e[n]=r[n]);return e};var p=(r,t,e)=>$(r,typeof t!="symbol"?t+"":t,e);var b=(r,t,e)=>new Promise((n,i)=>{var s=c=>{try{l(e.next(c))}catch(u){i(u)}},o=c=>{try{l(e.throw(c))}catch(u){i(u)}},l=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,o);l((e=e.apply(r,t)).next())});var v=r=>typeof r=="object"&&!Array.isArray(r)&&r!==null,E=(r,t)=>Object.prototype.hasOwnProperty.call(r,t),M=r=>Array.isArray(r)?r:[r];var W=(r,t)=>r.slice(0,Math.max(0,t)),x=r=>(r.split("-").length>1?r.split("-"):r.split("_")).map((e,n)=>(n>0&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e)).join(""),j=(r,t)=>{let e=new Set(t);return r.getAttributeNames().every(n=>!e.has(n))},N=(r,t)=>!t.includes(r.type),T=r=>typeof r=="string"&&r.length>0,G=r=>b(void 0,null,function*(){let e=yield(yield fetch(r)).text();try{return JSON.parse(e)}catch(n){throw console.error(n),new Error("Failed to parse JSON")}});var K={CDN_JS_URL:"https://cdn.jsdelivr.net/npm/autofill-js@2.0.2/dist/js/autofill.min.js",CDN_CSS_URL:"https://cdn.jsdelivr.net/npm/autofill-js@2.0.2/dist/css/autofill.min.css",DEV_HOSTS:["127.0.0.1:5100","127.0.0.1:5101"]};var I=class r{constructor(t,e,n){this.autofill=t;this.configManager=e;this.domForms=n}init(){let t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.onload=this.show.bind(this),t.setAttribute("href",r.cssLink()),document.querySelectorAll("head")[0].append(t)}show(){let t=this.autofill;document.querySelector("body").style.paddingTop="35px";let e=`
      <div class="autofill-overlay">
        <div class="autofill-overlay-brand">
          <span class="autofill-overlay-name">${t.infos.name}</span>
          <span class="autofill-overlay-version">${t.infos.version}</span>
        </div>
        <div class="autofill-overlay-buttons">
          <button type="button" class="js-btn-infos">${r.icon("information-circle-outline")}</button>
          <button type="button" class="js-btn-autofill">${r.icon("play-outline")}</button>
          <button type="button" class="js-btn-reset">${r.icon("reload-outline")}</button>
        </div>
        <div class="autofill-overlay-links">
          <a class="npm" href="${t.infos.npm}" title="NPM package">${r.icon("npm")}</a>
          <a class="github" href="${t.infos.github}" title="Github repository">${r.icon("github")}</a>
        </div>
      </div>
      `;document.body.insertAdjacentHTML("beforeend",e),document.querySelector(".js-btn-reset").addEventListener("click",()=>{this.domForms.forEach(n=>{n.form!==null&&n.form.reset(),n.inputs.forEach(i=>{i instanceof HTMLInputElement&&(i.checked=!1,t.configManager.config.valueAttribute&&i.removeAttribute("value"))})})}),document.querySelector(".js-btn-autofill").addEventListener("click",()=>{this.autofill.fill()}),document.querySelector(".js-btn-infos").addEventListener("click",()=>{let n=f({},this.configManager.config),i=f({},this.configManager.forms),s="color: #81aece;",o="color: #b24bd6;",l="color: #cf7b3a; font-weight: 600;";console.log(`%cAutofill.js - v${this.autofill.infos.version}`,`
        padding: 0.5rem 1.5rem;
        color: #212529;
        background-color: #81aece;
      `),console.groupCollapsed("%cAutofill Instance",s),console.log(this.autofill),console.groupEnd(),console.groupCollapsed("%cInfos",s),console.table(this.autofill.infos),console.groupEnd(),console.groupCollapsed("%cConfig",s),console.groupCollapsed("%cDefault",o);for(let c in this.configManager.defaultConfig){let u=this.configManager.defaultConfig[c];console.log(`%c${c}`,l,u)}console.groupEnd(),console.groupCollapsed("%cConstructor",o);for(let c in this.configManager.options){let u=this.configManager.options[c];console.log(`%c${c}`,l,u)}console.groupEnd(),console.group("%cInstance",o);for(let c in n){let u=n[c];console.log(`%c${c}`,l,u)}if(console.groupEnd(),console.groupEnd(),Object.keys(i).length>0){console.groupCollapsed("%cForms",s);for(let c in i){let u=i[c],d=u.inputs;console.groupCollapsed(`%c${c}`,"color: #e74747");for(let g in u)g!=="inputs"&&console.log(`%c${g}`,l,u[g]);console.table(d),console.groupEnd()}console.groupEnd()}})}static cssLink(){let{CDN_CSS_URL:t,DEV_HOSTS:e}=K;return e.map(i=>i.split(":")[1]).includes(window.location.port)?`//${window.location.host}/dist/css/autofill.css`:t}static icon(t){return{npm:`<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-${t}" viewBox="0 0 512 512"><title>NPM package</title><path fill="currentColor" d="M227.6 213.1H256v57.1h-28.4z"/><path fill="currentColor" d="M0 156v171.4h142.2V356H256v-28.6h256V156zm142.2 142.9h-28.4v-85.7H85.3v85.7H28.4V184.6h113.8zm142.2 0h-56.9v28.6h-56.9V184.6h113.8zm199.2 0h-28.4v-85.7h-28.4v85.7h-28.4v-85.7H370v85.7h-56.9V184.6h170.7v114.3z"/></svg>`,github:`<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-${t}" viewBox="0 0 512 512"><title>Github repository</title><path fill="currentColor" d="M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9a17.56 17.56 0 003.8.4c8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1a102.4 102.4 0 01-22.6 2.7c-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1a63 63 0 0025.6-6c2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8a18.64 18.64 0 015-.5c8.1 0 26.4 3.1 56.6 24.1a208.21 208.21 0 01112.2 0c30.2-21 48.5-24.1 56.6-24.1a18.64 18.64 0 015 .5c12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5a19.35 19.35 0 004-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32z"/></svg>`,"information-circle-outline":`<svg xmlns="http://www.w3.org/2000/svg"  class="icon icon-${t}" viewBox="0 0 512 512"><title>Infos (checkout developer tools console)</title><path d="M248 64C146.39 64 64 146.39 64 248s82.39 184 184 184 184-82.39 184-184S349.61 64 248 64z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M220 220h32v116"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M208 340h88"/><path fill="currentColor" d="M248 130a26 26 0 1026 26 26 26 0 00-26-26z"/></svg>`,"play-outline":`<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-${t}" viewBox="0 0 512 512"><title>Fill forms</title><path d="M112 111v290c0 17.44 17 28.52 31 20.16l247.9-148.37c12.12-7.25 12.12-26.33 0-33.58L143 90.84c-14-8.36-31 2.72-31 20.16z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/></svg>`,"reload-outline":`<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-${t}" viewBox="0 0 512 512"><title>Reset forms</title><path d="M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32"/><path fill="currentColor" d="M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z"/></svg>`}[t]}};var S=class{constructor(t){p(this,"defaultConfig",{enable:!0,overlay:!1,url:!1,formsSelectors:["form"],validateInputAttributes:["minlength","maxlength"],autosubmit:!1,camelize:!1,events:["input","change"],generate:!1,inputAttributes:["data-autofill","name","id","class"],inputAttributesSkip:[],inputTypesSkip:[],inputsSelectors:["input","textarea","select","progress","meter"],override:!1,random:!1,randomPreset:!1,valueAttribute:!0});p(this,"infos",{author:"0kyn",version:"2.0.2",name:"Autofill.js",github:"https://github.com/0kyn/autofill-js",npm:"https://www.npmjs.com/package/autofill-js"});p(this,"_config");p(this,"_forms",{});p(this,"_options",{});this._options=t!=null?t:{},this._config=f({},this.defaultConfig),t&&this.applyOptions(t)}get options(){return this._options}get config(){return this._config}get forms(){return this._forms}get isEnabled(){return this._config.enable}applyOptions(t){this.validateOptions(t);let s=t,{inputs:e,forms:n}=s,i=y(s,["inputs","forms"]);this.validateConfigOptions(i),this._config=f(f({},this._config),i),this._config.formsSelectors=this.buildFormsSelectors(n),this._forms=this.buildForms(n,e)}loadFromUrl(t){return b(this,null,function*(){if(!T(t))throw new Error(`Invalid URL: ${t}`);try{let e=yield G(t),{inputs:i,forms:s}=e,o=y(e,["inputs","forms"]);this.validateConfigOptions(o),this._config=f(f({},this.defaultConfig),o),this._config.formsSelectors=this.buildFormsSelectors(s);let l=this.buildForms(s,i);this._forms=this.mergeFormConfigs(l,this._forms)}catch(n){throw console.error("Failed to load configuration from URL:",n),n}})}getFormConfig(t){let e={};typeof t=="string"&&this._forms&&this._forms[t]&&(e=f({},this._forms[t]));let n=f(f({},this._config),e);return delete n.inputs,n}getInputConfig(t,e){var o,l;let n=this.getFormConfig(t);if(!this.hasFormWithInputs(t)||!e)return n;let i=(l=(o=this.forms[t])==null?void 0:o.inputs)==null?void 0:l[e],s=typeof i!="string"?f({},i):{};return s==null||delete s.value,v(s)?f(f({},n),s):n}findFormSelector(t){if(!(!t||!this._config.formsSelectors)){for(let e of this._config.formsSelectors)if(t===document.querySelector(e))return e;for(let e of this._config.formsSelectors)if([...document.querySelectorAll(e)].includes(t))return e}}hasFormWithInputs(t){var e;return typeof t=="string"&&!!this._forms&&!!this._forms[t]&&!!((e=this._forms[t])!=null&&e.inputs)}buildFormsSelectors(t){let e=[...this._config.formsSelectors];return t===void 0||Object.keys(t).forEach(n=>{n.split(",").forEach(i=>{let s=i.trim();e.includes(s)||e.push(s)})}),e}buildForms(t,e){this.validateOptions(e),this.validateOptions(t);let n={},i={};return Object.keys(t!=null?t:{}).forEach(s=>{s.split(",").forEach(o=>{i[o.trim()]=t[s]})}),this._config.formsSelectors.forEach(s=>{n[s]=n[s]||{},e!==void 0?n[s].inputs=f({},e):i!==void 0&&(n[s]=i[s])}),n}mergeFormConfigs(...t){let e={},n=(i,s)=>{for(let o in s)if(E(s,o)){let l=s[o];v(l)?(i[o]=i[o]||{},n(i[o],l)):i[o]=l}};for(let i of t)i&&n(e,i);return e}validateOptions(t){if(t!==void 0&&!v(t))throw new Error("Options must be a valid object or undefined.")}validateConfigOptions(t){if(!t)return;let e=Object.keys(this.defaultConfig),i=Object.keys(t).filter(s=>!e.includes(s));if(i.length>0)throw new Error(`Invalid config keys: ${i.join(", ")}`)}};var a=class a{constructor({withPreset:t}){p(this,"withPreset");p(this,"preset",{});this.withPreset=t,this.withPreset&&this.initPreset()}static parse(t){let e=t.match(/^(\w+)/);if(e){let n=e[1],i=t.split("|"),s={};if(i.length>0)for(let o=0;o<i.length;o++){let l=i[o].split(":");s[l[0]]=l[1]}return a.gen(n,s)}}static gen(t,e){let n="abcdefghijklmnopqrstuvwxyz",s=n+"ABCDEFGHIJKLMNOPQRSTUVWXYZ",o="0123456789",c=s+o+" !\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",u={string:s,email:n,password:c,digit:o},d=e.min||12,g=e.max||16,Y=a.genInt(d,g);e.len=e.len||Y,e.chars=u[t];let H="";return t==="email"?H+=a.genEmail(e):e.chars&&(H+=a.genString(e)),H}genInputValue(t){var i,s;let e,n;switch((i=t.getAttribute("list"))!=null&&i?n="datalist":t.tagName==="PROGRESS"?n="progress":t.tagName==="METER"?n="meter":n=t.type,n){case"select-one":case"select-multiple":e=this.genSelect(t);break;case"checkbox":e=this.genCheckbox(t);break;case"radio":e=this.genRadio(t);break;case"datalist":e=this.genDatalist(t);break;case"range":e=this.genRange(t);break;case"number":e=this.genNumber(t);break;case"progress":e=this.genProgress(t);break;case"meter":e=this.genMeter(t);break;case"date":case"datetime-local":case"month":case"week":case"time":e=this.genDate(t,n);break;case"color":e=this.genColor();break;default:break}if(this.withPreset){let o=a.getAttributesByKeyValue(t),l=this.searchPreset(f({type:n},o));l!==void 0&&(e=l)}if(e===void 0){let o=(s=a.mapInputTypeStringOption[n])!=null?s:"string",l=t.getAttribute("minlength")?Number.parseInt(t.getAttribute("minlength")):void 0,c=t.getAttribute("maxlength")?Number.parseInt(t.getAttribute("maxlength")):void 0;e=a.gen(o,{min:l,max:c})}return e}static getData(){return a.data}initPreset(){this.preset={};for(let t in a.data)t!=="location"?this.preset[t]=a.getRandomItem(a.data[t]):this.preset=f(f({},this.preset),a.getRandomItem(a.data.location));this.preset.name=this.preset.firstname,this.preset.fullname=`${this.preset.firstname} ${this.preset.lastname}`,this.preset.email=this.genPresetEmail(),this.preset.username=this.genPresetUsername(),this.preset.nickname=this.preset.username,this.preset.password=this.genPresetPassword(),this.preset.birthdate=this.genPresetBirthdate(),this.preset.age=this.genPresetAge(),this.preset.url=this.genPresetUrl(),this.preset.datetime=this.genPresetDatetime(),this.preset.date=this.genPresetDate(),this.preset.month=this.genPresetMonth(),this.preset.week=this.genPresetWeek(),this.preset.time=this.genPresetTime()}genPresetEmail(){return`${this.preset.firstname.toLocaleLowerCase()}.${this.preset.lastname.toLocaleLowerCase()}@${this.preset.company.toLocaleLowerCase().replace(/\W/g,"")}.${this.preset.tld}`}genPresetUsername(){return`${this.preset.firstname}_${this.preset.lastname}`.toLowerCase()}genPresetPassword(){let t={a:"4",e:"3",g:"9",i:"1",l:"7",s:"5",z:"2"};return[...`${this.preset.username}_isnotasecurepwd`].map(i=>{var s;return(s=t[i])!=null?s:i}).map(i=>a.genBool()?i.toLocaleUpperCase():i).join("")}genPresetAge(){return Math.floor((Date.now()-new Date(this.preset.birthdate).getTime())/315576e5).toString()}genPresetUrl(){return`https://www.${this.preset.company.toLocaleLowerCase().replace(/\W/g,"")}.${this.preset.tld}`}genPresetBirthdate(){let n=new Date().getFullYear()-a.genInt(21,100),i=a.genInt(0,11),s=a.genInt(1,31);return new Date(n,i,s).toISOString().split("T")[0]}genPresetDatetime(){return a.getDatetime()}genPresetDate(){return a.getDate(this.preset.datetime)}genPresetMonth(){return a.getMonth(this.preset.datetime)}genPresetWeek(){return a.getWeek(this.preset.datetime)}genPresetTime(){return a.getTime(this.preset.datetime)}searchPreset(n){var i=n,{type:t}=i,e=y(i,["type"]);let s=x(t);for(let l in this.preset)for(let c in e){let u=e[c],d=new RegExp(`^${u}$`,"i");if((u==null?void 0:u.length)>0&&d.test(l))return this.preset[l]}let o=a.mapInputTypePreset[s];if(o)return this.preset[o]}genSelect(t){let e=t.type,i=[...t.querySelectorAll("option")].map((o,l)=>o.value.length>0?l:void 0).filter(o=>o!==void 0),s=i.length;if(e==="select-one")return i[a.genInt(0,i.length-1)];{let o=a.genInt(2,s),l=[];for(;l.length<o;){let c=i[a.genInt(0,s-1)];l.includes(c)||(l=[...l,c])}return l}}genCheckbox(t){let e=/\[/g,n=t.getAttribute("name");if(n&&e.test(n)){let i=[...document.querySelectorAll(`input[name^=${n.split("[")[0]}\\[]`)].map((l,c)=>c),s=a.genInt(1,i.length),o=[];for(;o.length<s;){let l=i[a.genInt(0,i.length-1)];o.includes(l)||(o=[...o,l])}return o}else return a.genBool()}genRadio(t){var i;let e=(i=t.getAttribute("name"))!=null?i:"",n=document.querySelectorAll(`[name^=${e.split("[")[0]}]`);if(n.length>0){let s=[...n].map((o,l)=>l);return s[a.genInt(0,s.length-1)]}}genDatalist(t){let e=document.querySelectorAll(`datalist#${t.getAttribute("list")} option`);if(e.length>0){let n=[...e].map((i,s)=>s);return n[a.genInt(0,n.length-1)]}}genRange(t){var i,s;let e=Number.parseInt((i=t.getAttribute("min"))!=null?i:"0"),n=Number.parseInt((s=t.getAttribute("max"))!=null?s:"100");return a.genInt(e,n)}genNumber(t){var i,s;let e=Number.parseInt((i=t.getAttribute("min"))!=null?i:"-1000"),n=Number.parseInt((s=t.getAttribute("max"))!=null?s:"1000");return a.genInt(e,n)}genProgress(t){var n;let e=Number.parseInt((n=t.getAttribute("max"))!=null?n:"100");return a.genInt(0,e)}genMeter(t){return this.genNumber(t)}genDate(t,e="date"){var o,l;let n=(o=t.getAttribute("min"))!=null?o:"1970-01-01",i=(l=t.getAttribute("max"))!=null?l:"2099-12-31",s;switch(e){case"datetime-local":s=a.genDatetime(n,i);break;case"month":s=a.genMonth(n,i);break;case"week":s=a.genWeek(n,i);break;case"time":s=a.genTime(n,i);break;case"date":s=a.genDate(n,i);break}return s}genColor(){return`#${Math.floor(Math.random()*16777215).toString(16).padStart(6,"0")}`}static genEmail(t){let e=(t==null?void 0:t.len)!==void 0&&t.len>=5?t.len:5,n=2,i=Math.floor(e/3),s=e-i+n,o="";return o+=a.genString(C(f({},t),{len:s})),o+="@",o+=a.genString(C(f({},t),{len:i})),o+=".",o+=a.genString(C(f({},t),{len:n})),o}static genString(t){var s;let e=t.chars,n=(s=t.len)!=null?s:0,i="";for(let o=0;o<n;o++)i+=e[Math.floor(Math.random()*e.length)];return i}static getAttributesByKeyValue(t){return["name","id","class"].reduce((i,s)=>{let o=t.getAttribute(s);return o!==null&&(i[s]=o),i},{})}static genInt(t,e){return Math.floor(Math.random()*(e-t+1)+t)}static genBool(){return Math.random()<.5}static genDateBetween(t,e){let n=new Date(t),i=new Date(e);return new Date(n.getTime()+Math.random()*(i.getTime()-n.getTime()))}static genDate(t,e){let n=a.genDateBetween(t,e);return a.getDate(a.getDatetime(n))}static genDatetime(t,e){let n=a.genDateBetween(t,e);return a.getDatetime(n)}static genMonth(t,e){return a.getMonth(a.genDate(t,e))}static genWeek(t,e){return a.getWeek(a.genDate(t,e))}static genTime(t,e){return a.getTime(a.genDatetime(t,e))}static getDatetime(t){return t===void 0&&(t=new Date),t.toISOString().split(".")[0]}static getDate(t){return t.split("T")[0]}static getMonth(t){let e=new Date(t);return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}`}static getWeek(t){let e=new Date(t);return`${e.getFullYear()}-W${a.getWeekNumber(e).toString().padStart(2,"0")}`}static getTime(t){return t.split("T")[1]}static getWeekNumber(t){let e=new Date(t.getFullYear(),0,1),n=Math.floor((t.getTime()-e.getTime())/(24*60*60*1e3));return Math.ceil(n/7).toString()}static getRandomItem(t){return t[Math.floor(Math.random()*t.length)]}};p(a,"data",{lastname:["Kent","Doe","Bond"],firstname:["Clark","John","James"],location:[{country:"United States of America",countryCode:"1",iso:"US/USA",state:"New York",phoneNumber:"012-345-6789",city:"New York City",zipCode:"10016",street:"7985 E 38th St",currency:"US Dollar",tld:"us"},{country:"France",countryCode:"33",iso:"FR/FRA",state:"Ile-de-France",phoneNumber:"0123456789",city:"Paris",zipCode:"75008",street:"312 Av. des Champs-\xC9lys\xE9es",currency:"Euro",tld:"fr"},{country:"United Kingdom",countryCode:44,iso:"GB/GBR",state:"London",phoneNumber:"02012347890",city:"London",zipCode:"75008",street:"1578 Willesden St",currency:"Pounds",tld:"uk"}],animal:["Dog","Cat","Bird"],colorString:["Red","Green","Blue"],colorHex:["#ff0000","#00ff00","#0000ff"],music:["Classical","Electro","Blues"],vehicle:["Car","Bicycle","Truck"],company:["Test Inc.","3W Corp","DevIn"],search:["search keyword 1","search keyword 2","search keyword 3"]}),p(a,"mapInputTypePreset",{tel:"phoneNumber",email:"email",color:"colorHex",datetimeLocal:"datetime",time:"time",date:"date"}),p(a,"mapInputTypeStringOption",{text:"string",textarea:"string",email:"email",password:"password"});var h=a;var z=r=>r.startsWith("__reactInternalInstance$"),q=r=>r.startsWith("__reactProps$")||r.startsWith("__reactEventHandlers$"),_={change:"onChange",input:"onInput",submit:"onSubmit"},J=r=>{let t=Object.keys(r).find(n=>q(n));return t||Object.keys(r).find(n=>z(n))},tt=(r,t)=>{try{let e=r[t];return e&&e._currentElement&&e._currentElement.props?e._currentElement.props:void 0}catch(e){return}},et=(r,t,e)=>{r.dispatchEvent(new Event(t,e))},nt=(r,t)=>{let e=J(r),n=_[t];if(!e||!n)return;let i={target:r,currentTarget:r,type:t,bubbles:!0,preventDefault:()=>{},stopPropagation:()=>{}};if(q(e))r[e]&&r[e][n]&&r[e][n](i);else if(z(e)){let s=tt(r,e);s&&s[n]&&s[n](i)}},F=(r,t,e)=>{let n=J(r)!==void 0;e=f({cancelable:!0,bubbles:!1},e),n?nt(r,t):et(r,t,e)};var m=class{constructor(t,e,n,i,s){this.input=t;this.configManager=e;this.randomInstance=n;this.formSelector=s;p(this,"config");p(this,"setProperty",(t,e,n)=>{let{key:i,value:s}=e;switch(i){case"selected":"selected"in t&&(t.selected=!!s);break;case"checked":"checked"in t&&(t.checked=!!s);break;case"files":"files"in t&&(t.files=s);break;case"value":"value"in t&&(t.value=String(s===null?"":s),n.valueAttribute&&t.setAttribute("value",t.value));break}});let o=this.getInputIdentifier(t,i);this.config=this.configManager.getInputConfig(s,o)}generateInputValue(t,e){var i,s;let n;if(this.configManager.hasFormWithInputs(this.formSelector)){let o=this.getInputIdentifier(t,e);if(o){n=this.getInputValue(o,this.formSelector);let l=this.needsGeneration(n,e);l&&(n=h.parse(l))}else e.random&&(n=(i=this.randomInstance)==null?void 0:i.genInputValue(t))}else n=(s=this.randomInstance)==null?void 0:s.genInputValue(t);return this.validateValueConstraints(t,n,e)}setInputProperty(t,e,n){this.setProperty(t,e,n),n.events.forEach(i=>F(t,i))}needsGeneration(t,e){if(!e.generate||typeof t!="string")return!1;let n=/{{\s(.+?)\s}}/,i=t.match(n);return i&&i[1]?i[1]:!1}validateValueConstraints(t,e,n){if(typeof e!="string")return e;if(n.validateInputAttributes.includes("minlength")){let i=Number.parseInt((t==null?void 0:t.getAttribute("minlength"))||"-1",10);i>0&&e.length<i&&(e+=h.gen("string",{len:i-e.length}))}if(n.validateInputAttributes.includes("maxlength")){let i=Number.parseInt(t.getAttribute("maxlength")||"-1",10);i>0&&e.length>i&&(e=W(e,i))}return e}getInputValue(t,e){if(!this.configManager.hasFormWithInputs(e)||!t)return;let i=this.configManager.forms[e].inputs[t];return v(i)&&E(i,"value")?i.value:i}getInputIdentifier(t,e){let{inputAttributes:n}=e;if(!(!n||!this.formSelector))for(let i of n){let s=t.getAttribute(i);if(!s)continue;let o=s.split("[")[0];if(this.getInputValue(o,this.formSelector)!==void 0)return o;if(e.camelize){let l=x(o);if(this.getInputValue(l,this.formSelector)!==void 0)return l}}}};var P=class extends m{handle(){var s;let t=this.input,e=this.config;if(!(this.config.override||!((s=t.value)!=null&&s.length)||t.type==="range"&&t.value==="50"||t.type==="color"&&t.value==="#000000"))return;let i=this.generateInputValue(t,e);i!==void 0&&this.setInputProperty(t,{key:"value",value:i},e)}};var D=class extends m{handle(){let t=this.input,e=this.config,n=[...t.querySelectorAll("option")];if(!e.override&&n.some(s=>s.selected))return;M(this.generateInputValue(t,e)).forEach(s=>{if(typeof s=="string"){let o=n.find(l=>l.value===s);o&&this.setInputProperty(o,{key:"selected",value:!0},e)}else typeof s=="number"&&s>=0&&s<n.length&&this.setInputProperty(n[s],{key:"selected",value:!0},e)})}};var L=class extends m{handle(){let t=this.input,e=this.config,n=new File(["file content"],"test.txt",{type:"text/plain"}),i=new DataTransfer;i.items.add(n),this.setInputProperty(t,{key:"files",value:i.files},e)}};var k=class extends m{handle(t){let e=this.config,n=t[0];if(!e.override&&t.some(o=>o.checked))return;M(this.generateInputValue(n,e)).forEach((s,o)=>{t.forEach((l,c)=>{let u=!1;typeof s=="string"&&l.value===s||typeof s=="number"&&c===s?u=!0:typeof s=="boolean"&&c===o&&(u=s),u&&this.setInputProperty(l,{key:"checked",value:!0},e)})})}};var R=class extends m{handle(){let t=this.input,e=this.config;if(!e.override&&t.value.length>0)return;let n=this.generateInputValue(t,e);if(typeof n=="string")this.setInputProperty(t,{key:"value",value:n},e);else if(typeof n=="number"){let i=t.getAttribute("list");if(!i)return;let s=document.querySelectorAll(`datalist#${i} option`);s.length>n&&this.setInputProperty(t,{key:"value",value:s[n].value},e)}}};var O=class{constructor(t,e){this.configManager=t;this.form=e;p(this,"formSelector");p(this,"config");p(this,"randomInstance");this.formSelector=this.configManager.findFormSelector(this.form),this.config=this.configManager.getFormConfig(this.formSelector),this.randomInstance=new h({withPreset:this.config.random?this.config.randomPreset:!0})}process(t){var n;let e=this.filterInputs(t,this.config);this.processAllInputs(e,this.config,this.formSelector),(n=this.config)!=null&&n.autosubmit&&this.form!==null&&this.submitForm(this.form)}filterInputs(t,e){return t.filter(n=>j(n,e.inputAttributesSkip)&&N(n,e.inputTypesSkip))}submitForm(t,e=1e3){setTimeout(()=>F(t,"submit"),e)}processAllInputs(t,e,n){let i=this.configManager,s=this.randomInstance;this.getDefaultInputs(t).forEach(o=>{new P(o,i,s,e,n).handle()}),this.getSelects(t).forEach(o=>{new D(o,i,s,e,n).handle()}),this.getCheckboxesGroup(t).forEach(o=>{new k(o[0],i,s,e,n).handle(o)}),this.getRadios(t).forEach(o=>{new k(o[0],i,s,e,n).handle(o)}),this.getDatalists(t).forEach(o=>{new R(o,i,s,e,n).handle()}),this.getFileInputs(t).forEach(o=>{new L(o,i,s,e,n).handle()})}getDefaultInputs(t){let e=["checkbox","radio","file","reset","submit","button"],n=["list"];return t.filter(i=>N(i,e)&&j(i,n))}getFileInputs(t){return t.filter(e=>e.type==="file")}getCheckboxesGroup(t){let e=/(.+)\[/,n=[],i=new Set;for(let s of t){if(s.type!=="checkbox"||i.has(s))continue;let o=s.getAttribute("name"),l=o==null?void 0:o.match(e);if(l){let c=l[1],u=new RegExp(`^${c}\\[`),d=t.filter(g=>g.type==="checkbox"&&u.test((g==null?void 0:g.getAttribute("name"))||""));d.length>0&&(n.push(d),d.forEach(g=>i.add(g)))}else n.push([s]),i.add(s)}return n}getSelects(t){return t.filter(e=>e.type==="select-one"||e.type==="select-multiple")}getDatalists(t){return t.filter(e=>e.getAttribute("list")!==null)}getRadios(t){let e=[],n=new Set;for(let i of t){if(i.type!=="radio")continue;let s=i.getAttribute("name");if(!s||n.has(s))continue;let o=t.filter(l=>l.type==="radio"&&l.getAttribute("name")===s);o.length>0&&(e.push(o),n.add(s))}return e}};var V=class{constructor(t){this.options=t;p(this,"configManager");p(this,"domForms",[]);p(this,"randomInstance");this.configManager=new S(t)}get infos(){return this.configManager.infos}init(){return b(this,null,function*(){if(!this.configManager.isEnabled)return console.warn("Autofill.js is disabled"),this;let{url:t}=this.configManager.config;return typeof t=="string"&&T(t)&&(yield this.configManager.loadFromUrl(t)),this.initDomForms(),this.fill(),this.configManager.config.overlay&&new I(this,this.configManager,this.domForms).init(),this})}initDomForms(){let{inputsSelectors:t}=this.configManager.config;if(!t)return;let e=t.join(","),n=document.querySelectorAll(e);this.domForms=[],n.forEach(i=>{let s=i.closest("form"),o=this.domForms.find(l=>l.form===s);o?o.inputs.push(i):this.domForms.push({form:s,inputs:[i]})})}processForm(t){let{form:e,inputs:n}=t;new O(this.configManager,e).process(n)}fill(){if(this.domForms.length===0){console.log("No input found in the HTML DOM");return}this.domForms.forEach(t=>this.processForm(t))}},it=r=>new Promise(t=>{let e=new V(r);document.readyState==="complete"?t(e.init()):window.addEventListener("load",()=>{t(e.init())})});window.autofill=it;})();
//# sourceMappingURL=autofill.min.js.map
